SSTACK	SEGMENT PARA STACK 'STACK'
		DB		64	DUP('STACK+++')
SSTACK ENDS

DSEG SEGMENT
NMAX	DW		6
N 		DW		6
X		DB		'123456'
		DB		'123456'
		DB		'123456'
		DB		'123456'
		DB		'123456'
		DB		'123456'
DSEG ENDS

CSEG	SEGMENT PARA PUBLIC 'CODE'
		ASSUME CS:CSEG,DS:DSEG,SS:SSTACK

		START	PROC FAR
				MOV AX,DSEG
				MOV DS,AX

		M1:
			MOV AL, 6
			MOV BX, OFFSET X
			MOV CL, N
			DEC CL

		M2:
			PUSH CX
			MOV CL, AL

			MOV DI, 6
			MOV SI, 1

			M3:
				PUSH DI
				ADD DI,SI

				MOV DL, [BX][SI]
				XCHG DL, [BX][DI]
				MOV [BX][SI], DL

				POP DI

				ADD DI, 6
				INC SI
				LOOP M3

			DEC AL
			ADD BX, 6
			POP CX
			LOOP M2

		M4:
			MOV AH, 4CH
			MOV AL, 0
			INT 21H

		START 	ENDP

CSEG	ENDS
		END START


